\chapter{関連研究}
\label{chapter:related}

\section{ステッパの実装}
\label{section:stepper__related}

ステッパはもともと Racket 言語の教育用に制限された構文に対して作られた。
これは Clements ら \cite{clements01} が設計したもので、
スタックに continuation mark と呼ばれるマークをつけることで
現在の評価文脈を再構成できるようにしている。
この Racket のステッパの対象構文には例外処理が含まれていない。

Whitington と Ridge \cite{EPTCS294.3} は
small-step のインタプリタを直接書くことで
OCaml に対するステッパを実装した。

PLT Redex \cite{felleisen09}は操作的意味論の形式化のための言語で、
文法と簡約規則を定義できるようになっており、DrRacket のステッパを継承している。
さらに、一画面の中に各ステップでのプログラムを配置し、
あるプログラムが１ステップ簡約されて別のプログラムになることを矢印で表したグラフを表示する。
これはより視覚的に簡約の様子を表すことができるほか、
各矢印にそのステップの簡約規則が添えられているのでよりステップを辿りやすい。
しかし、複数のステップのプログラムが同じ画面に表示されている上に
簡約が起こる部分式が強調されていないので、
長いプログラムをステップ実行すると見づらくなってしまう。

根岸ら\cite{NI2009}の関数型言語 Haskell のデバッガフロントエンドは、
一般的なデバッガの実行方法が通用しない遅延評価型言語の
グラフィカルなユーザインタフェースでのステップ実行を含むデバッガ操作を可能にした。
デバッガがブラウザ上で利用できるようになっており、
DrRacket や本研究のステッパと同様に各ステップでのプログラムを、
評価中の式をハイライトしながら表示する。
実行するファイルや、ブレイクポイントをどの関数に設定するか、
ステップ実行するか次のブレイクポイントまで実行するか、
などといった設定をブラウザ上のボタンなどをクリックすることで行うことができる。
デバッガのインタフェースでの本研究との違いは、
根岸ら\cite{NI2009}のデバッガではブレイクポイントをユーザが簡単に設定できるのに対して、
本研究ではブレイクポイントは自動的に全ての簡約基に設定され、
ユーザは詳細に実行のしかたを決められない代わりに「次のステップ」「前のステップ」
などのボタンを押すのみのより簡単な操作のみでステップ実行をすることができる。

\section{ステップ実行によるプログラミング学習}

Tunnel Wilson et al. \cite{tunnell18} は、
代数学的ステッパの出力のような内容を学生に手書きで書かせることによって、
学生がプログラムの実行のされかたをどのように理解しているか、
どのような構文のステップの書き下しができないかといった傾向を分析した。

\section{algebraic effects}
\label{section:algebraic effects__related}

本論文では algebraic effects に対する意味論を、
big-step で書かれた、ハンドラ内の実行について CPS になっているインタプリタで定義する。
Kammar ら \cite{10.1145/2500365.2500590} は small-step で意味論を与えた。
Hillerstr{\"o}m ら \cite{e6cb0c3222794e48bf38cf44e46fe4aa} は
CPS による意味論を与えたが、入力言語を A-正規形に制限しているのに加え、
継続がフレームのリストで与えられており、通常の CPS インタプリタにはなっていない。

上記以外の algebraic effects に関する研究としては、ハンドラの挙動が異
なる shallow ハンドラの研究 \cite{10.1007/978-3-030-02768-1_22} や
algebraic effects を含むプログラムに関する論理関係を
定義する研究 \cite{10.1145/3158096} などがあげられる。本論文で扱ってい
るハンドラは従来の deep ハンドラである。shallow ハンドラにも対応できると
考えているが、これは今後の課題である。
